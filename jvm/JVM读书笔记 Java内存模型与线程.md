# Java内存模型与线程

## Java内存模型

### 主内存与工作内存
Java内存模型规定了所有的变量都存储在主内存，每条线程还有自己的工作内存，线程的工作内存中保存了被该线程使用的变量的主内存副本，线程对变量的所有操作（读取、赋值等）都必须在工作内存中进行，而不能直接读写主内存中的数据。不同的线程之间也无法直接访问对方工作内存中的变量，线程间变量值的传递均需要通过主内存来完成。
![memory_model.png](memory_model.png)

### 内存间交互操作

`lock`,`unlock`,`read`,`load`,`use`,`assign`,`store`,`write` 这8种操作都是原子的，不可再划分的。